{"version":3,"file":"functional-react-hooks.esm.js","sources":["../src/hooks/useBool.ts","../src/hooks/useIsDomReady.ts","../src/hooks/useViewportSize.ts","../src/hooks/useAsync.ts","../src/hooks/useEventListener.ts","../src/utils/isBrowser.ts","../src/utils/sessionStorage.ts","../src/utils/localStorage.ts"],"sourcesContent":["import { useState } from 'react';\r\n\r\nexport default (initialState = false) => {\r\n  const [bool, setBool] = useState<boolean>(initialState);\r\n\r\n  // * toggle bool\r\n  const toggleBool = () => setBool(prevBool => !prevBool);\r\n\r\n  // * set bool true\r\n  const setBoolTrue = () => setBool(true);\r\n\r\n  // * set bool false\r\n  const setBoolFalse = () => setBool(false);\r\n\r\n  return { bool, setBool, toggleBool, setBoolTrue, setBoolFalse };\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nexport default () => {\r\n  const [isDomReady, setIsDomReady] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    setIsDomReady(true);\r\n    return () => setIsDomReady(false);\r\n  }, []);\r\n\r\n  return isDomReady;\r\n};\r\n","import { useState, useCallback, useEffect } from 'react';\r\n\r\nimport { UseViewportSize } from '../types';\r\n\r\nexport default () => {\r\n  // * set undefined values to match values in server and client\r\n  const [viewportSize, setViewportSize] = useState<UseViewportSize>({\r\n    width: undefined,\r\n    height: undefined,\r\n  });\r\n\r\n  // * a handler func for setting window inner sizes\r\n  const setSizeHandler = useCallback(() => {\r\n    return setViewportSize({\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', setSizeHandler, { passive: true });\r\n    window.addEventListener('orientationchange', setSizeHandler, {\r\n      passive: true,\r\n    });\r\n\r\n    // ? Call handler right away so state gets updated with initial window size\r\n    setSizeHandler();\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', setSizeHandler);\r\n      window.removeEventListener('orientationchange', setSizeHandler);\r\n    };\r\n  }, [setSizeHandler]);\r\n\r\n  return viewportSize;\r\n};\r\n","import { useState, useCallback, useEffect } from 'react';\r\nimport {\r\n  UseAsyncStatus,\r\n  UseAsyncExecuteFunction,\r\n  UseAsyncOptions,\r\n  UseAsyncAsyncFunction,\r\n  UseAsyncReturn,\r\n} from '../types';\r\n\r\nexport default (\r\n  asyncFunction: UseAsyncAsyncFunction,\r\n  options: UseAsyncOptions = { immediate: true }\r\n): UseAsyncReturn => {\r\n  const [response, setResponse] = useState(null);\r\n  const [status, setStatus] = useState<UseAsyncStatus>('Idle');\r\n  const [error, setError] = useState<unknown>(null);\r\n\r\n  // * function to execute asyncFunction\r\n  const executeAsync = useCallback(\r\n    async (args?: UseAsyncExecuteFunction) => {\r\n      // * Before calling asyncFunction set status to pending\r\n      setStatus('Pending');\r\n      setResponse(null);\r\n      setError(null);\r\n\r\n      try {\r\n        const resault = await asyncFunction(args?.variables);\r\n\r\n        setStatus('Success');\r\n        setResponse(resault);\r\n        setError(null);\r\n\r\n        if (args?.onSuccess) args.onSuccess(resault, status);\r\n      } catch (error) {\r\n        setStatus('Error');\r\n        setError(error);\r\n        setResponse(null);\r\n\r\n        if (args?.onError) args.onError(error, status);\r\n      }\r\n    },\r\n    [asyncFunction, status]\r\n  );\r\n\r\n  // * by default execute `executeAsync` function on component mount\r\n  useEffect(() => {\r\n    if (options.immediate) {\r\n      executeAsync({\r\n        onError: options?.onError,\r\n        onSuccess: options?.onSuccess,\r\n        variables: options?.variables,\r\n      });\r\n    }\r\n  }, [options, executeAsync]);\r\n\r\n  return [executeAsync, { response, status, error }];\r\n};\r\n","import { useRef, useEffect } from 'react';\r\nimport { UseEventListenerOptions } from '../types';\r\n\r\nexport default (options: UseEventListenerOptions) => {\r\n  const { eventName, handler, element = window } = options;\r\n\r\n  // * Create a ref that stores handler\r\n  const savedHandler = useRef(handler);\r\n\r\n  // * Update ref.current value if handler changes.\r\n  // ? This allows our effect below to always get latest handler\r\n  useEffect(() => {\r\n    savedHandler.current = handler;\r\n  }, [handler]);\r\n\r\n  useEffect(() => {\r\n    // * Make sure element supports addEventListener\r\n    const isSupported = element && element.addEventListener;\r\n    if (!isSupported) return;\r\n\r\n    // * Create event listener that calls handler function stored in ref\r\n    const eventListener = (event: Event): void => savedHandler.current(event);\r\n\r\n    // * Add event listener\r\n    element.addEventListener(eventName, eventListener);\r\n\r\n    // * Remove event listener on cleanup\r\n    return () => {\r\n      element.removeEventListener(eventName, eventListener);\r\n    };\r\n\r\n    // * Re-run if eventName or element changes\r\n  }, [eventName, element]);\r\n\r\n  return null;\r\n};\r\n","const isBrowser = typeof window !== 'undefined';\r\nexport default isBrowser;\r\n","import isBrowser from './isBrowser';\r\n\r\nconst setSessionStorage = <Value>(key: string, value: Value) => {\r\n  if (isBrowser) return sessionStorage.setItem(key, JSON.stringify(value));\r\n  return;\r\n};\r\n\r\nconst getSessionStorage = (key: string) => {\r\n  if (isBrowser) {\r\n    const storageValue = sessionStorage.getItem(key);\r\n    // * if type of value from session storage is string parse it then return\r\n    // * else return original value\r\n    if (typeof storageValue === 'string') return JSON.parse(storageValue);\r\n    return storageValue;\r\n  }\r\n\r\n  return;\r\n};\r\n\r\nconst removeSessionStorage = (key: string) => {\r\n  if (isBrowser) return sessionStorage.removeItem(key);\r\n  return;\r\n};\r\n\r\nexport default { setSessionStorage, getSessionStorage, removeSessionStorage };\r\n","import isBrowser from './isBrowser';\r\n\r\nconst setLocalStorage = <Value>(key: string, value: Value) => {\r\n  if (isBrowser) return localStorage.setItem(key, JSON.stringify(value));\r\n  return;\r\n};\r\n\r\nconst getLocalStorage = (key: string) => {\r\n  if (isBrowser) {\r\n    const storageValue = localStorage.getItem(key);\r\n    // * if type of value from local storage is string parse it then return\r\n    // * else return original value\r\n    if (typeof storageValue === 'string') return JSON.parse(storageValue);\r\n    return storageValue;\r\n  }\r\n\r\n  return;\r\n};\r\n\r\nconst removeLocalStorage = (key: string) => {\r\n  if (isBrowser) return localStorage.removeItem(key);\r\n  return;\r\n};\r\n\r\nexport default { setLocalStorage, getLocalStorage, removeLocalStorage };\r\n"],"names":["initialState","useState","bool","setBool","toggleBool","prevBool","setBoolTrue","setBoolFalse","isDomReady","setIsDomReady","useEffect","width","undefined","height","viewportSize","setViewportSize","setSizeHandler","useCallback","window","innerWidth","innerHeight","addEventListener","passive","removeEventListener","asyncFunction","options","immediate","response","setResponse","status","setStatus","error","setError","executeAsync","args","variables","resault","onSuccess","onError","eventName","handler","element","savedHandler","useRef","current","isSupported","eventListener","event","isBrowser","setSessionStorage","key","value","sessionStorage","setItem","JSON","stringify","getSessionStorage","storageValue","getItem","parse","removeSessionStorage","removeItem","setLocalStorage","localStorage","getLocalStorage","removeLocalStorage"],"mappings":"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"}